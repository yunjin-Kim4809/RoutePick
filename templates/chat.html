<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>RoutePick Chat & Map Service</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <!-- Google Maps API (.env 파일의 GOOGLE_MAPS_API_KEY 사용) -->
    {% if google_maps_api_key %}
    <script src="https://maps.googleapis.com/maps/api/js?key={{ google_maps_api_key }}&v=weekly&loading=async" async defer></script>
    {% else %}
    <script>
        console.error("⚠️ Google Maps API 키가 설정되지 않았습니다. .env 파일에 GOOGLE_MAPS_API_KEY를 추가하세요.");
    </script>
    {% endif %}
</head>
<body>
    <div class="main-container">
        <!-- (a) 좌측 챗봇 섹션 -->
        <section class="left-pane">
            <header class="chat-header"><h1>AI 가이드</h1></header>
            <div id="chat-window" class="chat-window">
                <!-- 채팅 내용이 여기 쌓입니다 -->
            </div>
            <div class="chat-input-area">
                <input type="text" id="chat-input" placeholder="질문을 입력하세요...">
                <button id="send-btn">전송</button>
            </div>
        </section>

        <!-- 우측 섹션 -->
        <section class="right-pane">
            <!-- (b) 상단 구글 지도 -->
            <div id="map-container"></div>

            <!-- (c) 하단 카드 행렬 -->
            <div id="card-matrix" class="card-matrix"></div>

            <!-- (d) 햄버거 버튼 및 사이드 메뉴 -->
            <button id="menu-toggle" class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </button>
            <nav id="side-menu" class="side-menu"></nav>
        </section>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
    <!-- 챗봇 로직 동적 로드 -->
    <script src="{{ url_for('static', filename='js/chatbot.js') }}"></script>
</body>
</html>